# GETS THE CLIENT OBJECT FROM DISCORD.PY. CLIENT IS SYNONYMOUS WITH BOT.
import discord
from aternosapi import AternosAPI

headers_cookie = "ATERNOS_SEC_ziegn2xlh8000000=48no4bxn1ui00000; __cfduid=ddb012b33b94a2aa5aa73d668dcdcd95a1609972737; _ga=GA1.2.575841520.1609972735; _gid=GA1.2.1247847702.1609972735; ATERNOS_SESSION=fQqKPyqxxWv4UAQFuUOCfDKlE1qNvlmfzFtZuAPDAXlPvftmODmMOkYcW4RU3VksvJDfPlgsnHGvfM19UqPieLryXfbbvxLHATNq; ATERNOS_SERVER=fUHKKhultf9KxvTv; euconsent-v2=CO_nnt0O_nnt0DlArAESBHCsAP_AAH_AACiQHONf_X_fb3_j-_59__t0eY1f9_7_v-0zjheds-8Nyd_X_L8X_2M7vF36pr4KuR4ku3bBIQdtHOncTUmx6IlVrTPsbk2Mr7NKJ7PEmnsbe2dYGH9_n9XT_ZKZ79_v___7________77______3_v_____-___QOcAJMNS-AizEscCSaNKoUQIQriQ6AUAFFCMLRNYQErgp2VwEfoIGACA1ARgRAgxBRiwCAAAAAJKIgJADwQCIAiAQAAgBUgIQAEaAILACQMAgAFANCwAigCECQgyOCo5TAgIkWignkjAEou9jDCEMosAKBR_QAAA; snconsent=eyJwdWJsaXNoZXIiOjAsInZlbmRvciI6MywiZ2xDb25zZW50cyI6IiIsImN2Q29uc2VudHMiOnt9fQ.AocAJwArAC4ANwA9AEIARgBTAFkAXQBsAHUAegB8AIMAhwCIAI8AkACTAJUAnwCiAKcAqwC4AMAAxADKANMA2gDkAOYA7wDxAP0BAwEKARABHgEjATcBPQFCAUMBRgFHAVIBbwFzAYEBhQGJAYoBjQGXAZ0BnwGoAa4BtAG4Ab0BwAHBAcUB4gHmAesB7gHvAfUB9wH5AgoCCwIcAiYCLwIwAjgCOwI-AkACSAJJAksCTwLdAuEC6QMMAxMDIgMjAzEDNAM1Az0DRwNVA2ADYwNqA4MDiAOaA6MDqgPTA9UD2QPrBAAEAwQHBAkECgQQBBYEGwQdBCsEPQREBEcESQRLBFMEZgRnBG8EdwR9BIAEigSOBJMEogSkBKgEsQS0BLUEuwS_BMoEywTOBOAE5AT0BPYE_AUEBQYFCgUVBRsFIAUlBTEFQQVMBVQFVQVfBXsFgwWHBYgFiwWgBaIFqQWvBbAFuQXXBegF7AX1BgQGDAYTBhYGHAYiBikGKwYvBjAGNwZDBlAGZgZzBnUGgQaDBocGjQaOBpIGoQajBqcGsAa0BrkGuga9BsQG0QbWBtkG5QbpBvYG-gcIBxAHEgchByMHKActBy4HMAcyBzMHNAc1B0MHSgdOB1YHWAdhB2oHawd9B4kHlgeYB6oHqwesB68HsAexB7oHzgfTB9cH3QfrB_MH9wf8B_8IBAgICBAIFAgWCBgIGggoCCoINwg7CD0IQwhMCFIIVQhZCFwIYQhjCGYIbAh2CIEIgwiHCIoImgidCKUIqAirCKwIrgixCLoIzQjYCOcI6gj0CPsJAQkFCQgJDAkVCRgJGwkeCR8JIAkhCScJMgk1CTYJNwk-CUIJSAlJCVMJWAlaCWAJYwllCWYJZwlrCW4JcAlyCXYJeQl7CYgJjwmbCZ0JngmkCagJrQmxCbQJtgm4CbwJvQnACcEJwgnDCcgJzgnPCdUJ3gnfCeQJ5gnnCe4J8An4CfsKAwoECgcKCAoJCgsKDAoPChEKFwoYCh0KIwokCikKLAotCjAKMQoyCjQKNgo9CkQKRQpJCkoKTApSClMKVQpWClcKWgpbClwKYAphCmIKZAplCm0KbgpxCnUKeQp8Cn4KfwqCCoMKhwqKCpMKmQqaCqkKswrPCtAK0grTCtQK4ArjCucK6AruCvEK9Qr8Cv0LAAsBCwILBQsGCwsLDgsPCxILFAsWCxcLGAscCx4LHwshCyILIwskCyYLKAssCy4LLwsxCzMLNQs5CzoLOws8Cz4LPwtAC0ELQgtDC0QLRQtGC0cLSAtJC0sLTQtOC08LUQtSC1QLVQtcC10LXwtgC2ELYgtkC2ULZgtnC2gLagtrC2wLbwtxC3ILcwt1C3sLfAt9C34LgwuFC4YLjAuRC5ILkwuUC5ULlguYC5kLmgudC54LnwujC6QLpQunC6kLqgurC68LsQuyC7MLtQu4C7oLuwu9C8ALwQvCC8MLxAvIC8kLygvLC9AL0QvZC9oL3QveC-ML5AvlC-gL6gvrC-wL7QvvC_IL8wv3C_kL-gv8C_4MAAwBDAIMAwwEDAUMBgwRDBIMFQwWDBcMGQwbDBwMIAwiDCQMJQwnDCgMLAwtDC4MLwwwDDEMNAw2DDcMOAw6DD8MQAxDDEkMTQxODE8MUgxTDFcMWgxbDF0MXwxkDGUMbAxuDG8McAxxDHIMcwx0DHUMdgx5DHoMfAx9DIkMigyLDI4MjwyR; __gads=ID=366cb37c35fdef00:T=1609973646:S=ALNI_MY0DznP8mqR0Yu9Vj2nWrPRToRzaA; _pbjs_userid_consent_data=2467004168695760; SKpbjs-unifiedid=%7B%22TDID%22%3A%22a39ec2f4-0709-44f3-9dac-5e086fce8f29%22%2C%22TDID_LOOKUP%22%3A%22TRUE%22%2C%22TDID_CREATED_AT%22%3A%222020-12-06T22%3A56%3A18%22%7D; SKpbjs-unifiedid_last=Wed%2C%2006%20Jan%202021%2022%3A56%3A15%20GMT; id5id.1st_212_nb=0; SKpbjs-id5id=%7B%22created_at%22%3A%222021-01-06T22%3A56%3A17.731Z%22%2C%22id5_consent%22%3Atrue%2C%22original_uid%22%3A%22ID5-ZHMORh__ZtpXgg5hTDbkYyzumG9AW_Q8sWe_iTvKOA%22%2C%22universal_uid%22%3A%22ID5-ZHMOjJGDLZhMhmVTtPi1pFNN5oC4C3uCTFlllHUNGg%22%2C%22signature%22%3A%22ID5_AfbKNusQPsvybsPAMd2Ags8JXHIt_FyZbCk3p3LER_ZNcZmHj2lDsDsWXpyg2Zm9GtdykHOVD1Gfmf3-GoCldu8%22%2C%22link_type%22%3A2%2C%22cascade_needed%22%3Atrue%7D; SKpbjs-id5id_last=Wed%2C%2006%20Jan%202021%2022%3A56%3A15%20GMT; cnx_userId=beaff5c65e504d84996f7e4b3cc218c9; id5id.1st_364_nb=12"
TOKEN = "8a8JvCK7L0otREVvEeya"
server = AternosAPI(headers_cookie, TOKEN)

bot = discord.Client()

# EVENT LISTENER FOR WHEN THE BOT HAS SWITCHED FROM OFFLINE TO ONLINE.
@bot.event
async def on_ready():
	# CREATES A COUNTER TO KEEP TRACK OF HOW MANY GUILDS / SERVERS THE BOT IS CONNECTED TO.
	guild_count = 0

	# LOOPS THROUGH ALL THE GUILD / SERVERS THAT THE BOT IS ASSOCIATED WITH.
	for guild in bot.guilds:
		# PRINT THE SERVER'S ID AND NAME.
		print(f"- {guild.id} (name: {guild.name})")

		# INCREMENTS THE GUILD COUNTER.
		guild_count = guild_count + 1

	# PRINTS HOW MANY GUILDS / SERVERS THE BOT IS IN.
	print("SampleDiscordBot is in " + str(guild_count) + " guilds.")

# EVENT LISTENER FOR WHEN A NEW MESSAGE IS SENT TO A CHANNEL.
@bot.event
async def on_message(message):
	# CHECKS IF THE MESSAGE THAT WAS SENT IS EQUAL TO "HELLO".
	if message.content == "!server":
		# SENDS BACK A MESSAGE TO THE CHANNEL.
		await message.channel.send("Abriendo servidor, tarda. Puedes mirar el estado con:!estado.")
		print(server.StartServer())
	if message.content == "!estado":
		print(server.GetStatus())
		estado = server.GetStatus()
		await message.channel.send(estado)
	if message.content == "!info":
		print(server.GetServerInfo())
		info = server.GetServerInfo()
		await message.channel.send(info)
	if message.content == "!para":
		print(server.StopServer())
		await message.channel.send("Nos bemo")

# EXECUTES THE BOT WITH THE SPECIFIED TOKEN. TOKEN HAS BEEN REMOVED AND USED JUST AS AN EXAMPLE.
bot.run("Nzk0MDE3NjE0MTI5MTM1NjY2.X-0shw.5qrtjjttBHm8evCizzHG96FTVtY")